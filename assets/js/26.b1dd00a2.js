(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{340:function(e,i,t){"use strict";t.r(i);var r=t(0),o=Object(r.a)({},(function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("从事iOS开发，不得不面对它各种各样的证书，这应该也是苹果重视安全的体现之一吧，但是对于新手的我来说，被它弄得头都大了。但是理清楚了之后其实也就是那么一回事。网上讲解的教程很多，也可以去苹果开发者"),t("a",{attrs:{href:"https://developer.apple.com/develop/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://developer.apple.com/develop/"),t("OutboundLink")],1),e._v("官网去看看，但前提是你注册成为开发者......")]),e._v(" "),t("p",[e._v("说起注册开发者，也是听苦逼的一个流程，关键是还要99$/year。注册成为开发者后就可以进入iOS Dev Center打开"),t("code",[e._v("Certificates, Indentifiers & Profiles")]),e._v("这一项，就可以看到包含了开发、调试和发布iOS应用程序所需的所有内容了。"),t("code",[e._v("Certificates")]),e._v("(证书)、"),t("code",[e._v("Identifiers")]),e._v("(标志)、"),t("code",[e._v("Devices")]),e._v("(设备)、"),t("code",[e._v("Provisioning Profiles")]),e._v("(描述文件)。\n开发iOS应用必须要有iOS证书(Certificates)和供应配置文件(描述文件)(Provisioning Profiles)。")]),e._v(" "),t("h2",{attrs:{id:"_1-ios开发者账号分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ios开发者账号分类"}},[e._v("#")]),e._v(" 1. iOS开发者账号分类")]),e._v(" "),t("p",[e._v("首先来看看iOS开发者账号的分类，iOS开发者账号分为两类：")]),e._v(" "),t("ol",[t("li",[e._v("个人账号/公司账号：$99/年，这种账号能够上传到App Store，但不能够直接打包后运行在设备上。公司账号可以创建多个子账号，个人账号则不能。除此之外， 其他的两者没什么区别。")]),e._v(" "),t("li",[e._v("企业账号：$299/年，这种账号应用不能上传到App Store，只能用于企业内部分发使用，用 这种证书打出来的包能够在任何的iOS设备上运行，而不需要苹果的验证和签名。也就是我们常说的In-House证书。")])]),e._v(" "),t("p",[t("img",{attrs:{src:"/images/launchesondevices.png",alt:"若要app运行在设备上"}})]),e._v(" "),t("h2",{attrs:{id:"_2-certificates（证书）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-certificates（证书）"}},[e._v("#")]),e._v(" 2. Certificates（证书）")]),e._v(" "),t("p",[e._v("证书是用来给应用程序签名的，用来证明iOS app内容的合法性和完整性。只有经过"),t("code",[e._v("签名验证")]),e._v("的应用程序才能保证他的来源是可信的，内容是完整的，未经篡改的。iOS证书分为两类：")]),e._v(" "),t("ol",[t("li",[e._v("Development(开发者证书),用来开发和调试应用程序，又可以分为：\n"),t("ol",[t("li",[e._v("App Development(1年)：用来开发和真机调试应用程序。")]),e._v(" "),t("li",[e._v("Push Development(1年)，用来调试Apple Push Notification.")])])]),e._v(" "),t("li",[e._v("Production（Distribution）,主要用来分发应用程序(根据证书种类有不同作用).\n"),t("ol",[t("li",[t("code",[e._v("App Store")]),e._v(" 苹果应用商店，一般的iOS用户都可以在上面下载应用。")]),e._v(" "),t("li",[t("code",[e._v("In-House")]),e._v(" 企业内部分发，通过企业证书打包并选择In-House方式打包，可以将打包完的ipa安装到任何符合应用要求的iOS设备上，不需要苹果的验证和签名。")]),e._v(" "),t("li",[t("code",[e._v("Ad-Hoc")]),e._v(" 两种开发者账号都可以选择Ad-Hoc方式打包，可以将打包完的ipa安装到任何符合应用要求的iOS设备上。")])])])]),e._v(" "),t("p",[e._v("In-House 与Ad-Hoc的不同之处在于：In House没有设备数量限制，而Ad Hoc是用来测试用的，Ad Hoc的包只能运行在该账户内已登记的可用设备上，显然是有最多100个设备的数量限制。")]),e._v(" "),t("h3",{attrs:{id:"_2-1-所需要的证书类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-所需要的证书类型"}},[e._v("#")]),e._v(" 2.1 所需要的证书类型")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("*.certSigningRequest")]),e._v(" 证书签名请求(CSR)文件\n先申请一个Certificate Signing Request (CSR) 文件,通过Keychain-证书助理-从证书颁发机构请求证书(Mac OS)；在Windows中，使用OpenSSL。")]),e._v(" "),t("li",[t("code",[e._v("*.cer")]),e._v("证书 iOS开发者/分发证书\n这个文件包含了开发者信息和公钥，通过CSR文件")]),e._v(" "),t("li",[t("code",[e._v(".p12")]),e._v("证书\n.p12证书是将iOS开发者/分发证书(CSR)转换为p12格式(发布后App Store用这个来识别你是哪个公司或个人，包含开发和发行两种版本)。这个文件里包含了CSR的信息和私钥信息。")]),e._v(" "),t("li",[t("code",[e._v(".mobileprovision")]),e._v("文件\n安装在测试设备上的配置文件。")])]),e._v(" "),t("h3",{attrs:{id:"_2-2-identifiers-标识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-identifiers-标识"}},[e._v("#")]),e._v(" 2.2 Identifiers(标识)")]),e._v(" "),t("p",[e._v("Identifiers分为六种，App IDs，Pass Type IDs,Website Push IDs,iCloud Containers,App Groups和Merchant IDs，其中App IDs是最常用的，其他的五种没有使用过，重点说下App IDs。")]),e._v(" "),t("h3",{attrs:{id:"_2-3-app-id-bundle-identifier"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-app-id-bundle-identifier"}},[e._v("#")]),e._v(" 2.3 App ID (bundle identifier)")]),e._v(" "),t("p",[e._v("App ID即Product ID,用于标识一个或者一组App。App ID应该和Xcode中的Bundle Identifier是一致(Explicit)或者匹配的(Wildcard)。App ID一般以反域名格式的Company Identifier(Company ID)作为前缀(Prefix/Seed)，一般不超过255个ASCII字符。App ID主要有一下两种：")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("Explicit App ID")]),e._v(':唯一的App ID,用于唯一标识一个应用程序。如“com.iosdashen.demo1"这个App ID,用于标识Bundle Identifier为“com.iosdashen.demo1”的App。')]),e._v(" "),t("li",[t("code",[e._v("Wildcard App ID")]),e._v("：含有通配符的App ID,用于标识一组应用程序。如“*”表示所有应用程序；“com.iosdashen. *”则表示Bundle Identifier以“com.iosdashen. *”开头的所有应用程序。\n用户可在Developer MemberCenter网站上注册（Register）或删除（Delete）已注册的App IDs。\nApp ID被配置到【XcodeTarget|Info|Bundle Identifier】下；对于Wildcard App ID，只要bundle identifier包含其作为Prefix/Seed即可.\n每创建一个App ID，我们都可以设置该App ID所使用的APP Services，也就是其所使用的额外服务。每种额外服务都有着不同的要求，例如，如果要使用Apple Push Notification Services，则必须是一个explicit App ID，以便能唯一标识一个应用程序。下面是目前所有可选的服务和相应的配置要求")])]),e._v(" "),t("h2",{attrs:{id:"_3-device-设备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-device-设备"}},[e._v("#")]),e._v(" 3. Device (设备)")]),e._v(" "),t("p",[e._v("Device就是运行iOS系统用于开发调试App的设备。每台Apple设备使用UDID来唯一标识。iOS设备连接Mac后，可通过iTunes->Summary或者Xcode->Window->Devices获取iPhone的UDID（identifier）。每个账户中的设备数量限制是100个。Disable 一台设备也不会增加名额，只能在membership year 开始的时候才能通过删除设备来增加名额。")]),e._v(" "),t("h2",{attrs:{id:"_4-provisioning-profiles-描述文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-provisioning-profiles-描述文件"}},[e._v("#")]),e._v(" 4. Provisioning Profiles(描述文件)")]),e._v(" "),t("p",[e._v("一个Provisioning Profiles文件(一般我们称为PP文件)包含了上述所有内容："),t("code",[e._v("证书")]),e._v("、"),t("code",[e._v("App ID")]),e._v("、"),t("code",[e._v("设备")]),e._v("。后缀名为.mobileprovision。pp文件将这三个东西全部打包在一起，以便我们在调试或者发布应用程序打包时使用。这样我们就可以根据不同的情况选择不同的pp文件就可以了，PP文件将会在打包是嵌入进.ipa文件。")]),e._v(" "),t("p",[t("img",{attrs:{src:"/images/provisioning-profile.png",alt:"Provisioning Profiles"}})]),e._v(" "),t("p",[t("code",[e._v("code signing")]),e._v("(代码签名)最主要是让app能在真机设备上运行。")]),e._v(" "),t("p",[e._v("Code Signing背后的原理,"),t("code",[e._v("非对称加密")]),e._v("算法中，一般有两个秘钥："),t("code",[e._v("公钥")]),e._v("和"),t("code",[e._v("私钥")]),e._v("。可以通过"),t("code",[e._v("私钥")]),e._v("对一份数据加密，那么收到这份加密过的数据的人，可以使用这个私钥对应的"),t("code",[e._v("公钥")]),e._v("对这份数据解密，这个私钥相当于一个签名。")]),e._v(" "),t("h2",{attrs:{id:"_5-参考文章"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-参考文章"}},[e._v("#")]),e._v(" 5. 参考文章")]),e._v(" "),t("p",[e._v("1、"),t("a",{attrs:{href:"http://jingyan.baidu.com/article/ff411625b8141312e48237a7.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("iOS开发-创建真机调试证书"),t("OutboundLink")],1),t("br"),e._v("\n2、"),t("a",{attrs:{href:"http://blog.csdn.net/sampoowoo/article/details/40301461",target:"_blank",rel:"noopener noreferrer"}},[e._v("iOS基础-证书介绍"),t("OutboundLink")],1),t("br"),e._v("\n3、"),t("a",{attrs:{href:"http://www.cnblogs.com/sk-fengzi/p/5670087.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("最新iOS证书申请与发布流程"),t("OutboundLink")],1)])])}),[],!1,null,null,null);i.default=o.exports}}]);