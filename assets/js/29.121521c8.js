(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{358:function(e,t,s){"use strict";s.r(t);var a=s(0),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("æœ€è¿‘åœ¨å…¬å¸ç”±äºè¦è´Ÿè´£iPhoneXSç­‰æ–°è®¾å¤‡çš„é€‚é…ï¼Œæ‰€ä»¥å°†Xcodeå‡çº§åˆ°äº†Xcode10ï¼Œä½†æ˜¯è¿è¡Œå·¥ç¨‹é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œè¿™é‡Œè®°å½•ä¸‹æ¥è§£å†³æ–¹æ³•ã€‚")]),e._v(" "),s("p",[e._v("å¦‚æœæ˜¯æ¨¡æ‹Ÿå™¨ï¼Œé€‰æ‹©å¤åˆ¶åˆ°iPhoneSimulator.platformçš„å¯¹åº”ç›®å½•ä¸‹ã€‚")]),e._v(" "),s("h2",{attrs:{id:"_1-ç¼ºå°‘åº“ï¼šlibstdc-6-0-9-tbd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç¼ºå°‘åº“ï¼šlibstdc-6-0-9-tbd"}},[e._v("#")]),e._v(" 1.ç¼ºå°‘åº“ï¼š"),s("code",[e._v("libstdc++.6.0.9.tbd")])]),e._v(" "),s("p",[e._v("åŸå› æ˜¯åœ¨Xcode10ä¸­é»˜è®¤åˆ é™¤äº†è¿™ä¸ªåº“ï¼Œå¦‚æœå·¥ç¨‹ä¸­æœ‰ä¾èµ–äºè¿™ä¸ªåº“(æˆ–å…¶ä»–ç¬¬ä¸‰æ–¹åº“å¼•ç”¨å®ƒ)çš„ç¼–è¯‘æ—¶å°±ä¼šå‡ºé”™ã€‚"),s("br"),e._v("\nè§£å†³æ–¹å¼æ˜¯åœ¨Xcode9ä¸­æ‰¾åˆ°è¿™ä¸ªåº“ï¼Œç„¶åå¤åˆ¶åˆ°ä»¥ä¸‹è·¯å¾„ï¼š")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/usr/lib\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("å¦‚æœæ˜¯æ¨¡æ‹Ÿå™¨ï¼Œé€‰æ‹©å¤åˆ¶åˆ°iPhoneSimulator.platformçš„å¯¹åº”ç›®å½•ä¸‹ã€‚\n")]),e._v(" "),s("h2",{attrs:{id:"_2-ç¼–è¯‘æˆåŠŸ-è¿è¡Œæ—¶æŠ¥é”™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç¼–è¯‘æˆåŠŸ-è¿è¡Œæ—¶æŠ¥é”™"}},[e._v("#")]),e._v(" 2.ç¼–è¯‘æˆåŠŸ,è¿è¡Œæ—¶æŠ¥é”™")]),e._v(" "),s("blockquote",[s("p",[e._v("dyld: Library not loaded: /usr/lib/libstdc++.6.dylib\nReferenced from: /Users/...\nReason: no suitable image found.  Did find:\n/usr/lib/libstdc++.6.dylib: mach-o, but not built for iOS simulatort")])]),e._v(" "),s("p",[e._v("æŠ¥åŠ¨æ€é“¾æ¥åº“è£…è½½å‡ºé”™ï¼Œçœ‹å‡ºé”™æç¤ºè¯´æ˜¯ .dylib ä¸è¿™ä¸ªæ¨¡æ‹Ÿå™¨ä¸ç¬¦åˆã€‚è¿™æ˜¯ Xcode10è‡ªå¸¦çš„iOS12æ¨¡æ‹Ÿå™¨çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¸´æ—¶çš„æ–¹æ³•ä¹Ÿæ˜¯å°†è¿™ä¸ªç›¸å…³çš„åº“ä»Xcode9.xä¸­copyåˆ°Xcode10ç›®å½•ä¸­ï¼Œåˆ‡æ¢åˆ°iOS11çš„æ¨¡æ‹Ÿå™¨è¿è¡Œç¯å¢ƒã€‚")]),e._v(" "),s("p",[e._v("å°†"),s("code",[e._v("libstdc++.6.dylib")]),e._v("ã€ "),s("code",[e._v("libstdc++.6.0.9.dylib")]),e._v("å’Œ"),s("code",[e._v("libstdc++.dylib")]),e._v("ä»Xcode9.xå¤åˆ¶åˆ°Xcode10ä»¥ä¸‹ç›®å½•ï¼š")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/CoreSimulator/Profiles/Runtimes/iOS.simruntime/Contents/Resources/RuntimeRoot/usr/lib\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("a",{attrs:{href:"https://stackoverflow.com/questions/50694822/xcode-10-ios-12-does-not-contain-libstdc6-0-9",target:"_blank",rel:"noopener noreferrer"}},[e._v("å¯å‚è€ƒè¿™é‡Œçš„å›ç­”"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"_3-å†æ¬¡è¿è¡ŒæŠ¥é”™ï¼Œæç¤ºæ‰¾ä¸åˆ°ï¼š-lstdc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-å†æ¬¡è¿è¡ŒæŠ¥é”™ï¼Œæç¤ºæ‰¾ä¸åˆ°ï¼š-lstdc"}},[e._v("#")]),e._v(" 3.å†æ¬¡è¿è¡ŒæŠ¥é”™ï¼Œæç¤ºæ‰¾ä¸åˆ°ï¼š-lstdc++")]),e._v(" "),s("p",[s("img",{attrs:{src:"/images/Xcode10_lstdc++_issue.png",alt:"æŠ¥é”™ï¼Œæ²¡æ‰¾åˆ°-lstdc++"}})]),e._v(" "),s("p",[e._v("é‡åˆ°è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯æŒºæ†‹å±ˆçš„ï¼Œå…¶å®ä¸æ˜¯ä»€ä¹ˆä»£ç çš„é—®é¢˜ï¼Œé…ç½®ä¹Ÿæ²¡ä»€ä¹ˆé”™è¯¯ï¼Œæ£€æŸ¥äº†å¾ˆå¤šåœ°æ–¹ï¼Œæœ€ååœ¨Buildertimeä¸­ç¬¬ä¸€é¡¹ä¸­ï¼Œç‚¹å‡»updateå·¥ç¨‹çš„.projectæ–‡ä»¶ï¼Œç„¶åå°±å¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œé€‰æ‹©æ›´æ–°å³å¯ã€‚")]),e._v(" "),s("p",[s("img",{attrs:{src:"/images/Xcode10_performChanges.png",alt:"æ›´æ–°projæ–‡ä»¶è®¾ç½®"}})]),e._v(" "),s("p",[e._v("å…¶å®ä¸»è¦æ˜¯æ›´æ–°äº†.xcodeprojæ–‡ä»¶ä¸­çš„è®¾ç½®ï¼š"),s("code",[e._v("target -> Build Settings -> C++ Standard Library")]),e._v(" ï¼Œç„¶åå°±ä¼šå˜æˆComplier Default`ï¼Œè¿™æ ·å°±ä½¿ç”¨äº†é»˜è®¤çš„ç¼–è¯‘å™¨ã€‚")]),e._v(" "),s("h2",{attrs:{id:"_4-objc-msgsendæ–¹æ³•æŠ¥é”™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-objc-msgsendæ–¹æ³•æŠ¥é”™"}},[e._v("#")]),e._v(" 4.objc_msgSendæ–¹æ³•æŠ¥é”™")]),e._v(" "),s("p",[s("img",{attrs:{src:"/images/Xcode10_msgSend.png",alt:"objc_msgSendæ–¹æ³•æŠ¥é”™"}}),e._v("\næç¤ºï¼š\nressViewController.m:462:17: Too many arguments to function call, expected 0, have 2")]),e._v(" "),s("p",[e._v("å°†ä¸‹é¢çš„é…ç½®æ”¹ä¸ºNOå³å¯ã€‚\n"),s("img",{attrs:{src:"/images/Xcode10_strict_checking_objc.png",alt:"è®¾ç½®ä¸¥æ ¼æ£€æŸ¥"}}),e._v("\næŸ¥çœ‹message.hçš„ä»£ç ï¼š")]),e._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("#if !OBJC_OLD_DISPATCH_PROTOTYPES\nOBJC_EXPORT void\nobjc_msgSend(void /* id self, SEL op, ... */ )\n    OBJC_AVAILABLE(10.0, 2.0, 9.0, 1.0, 2.0);\nOBJC_EXPORT void\nobjc_msgSendSuper(void /* struct objc_super *super, SEL op, ... */ )\n    OBJC_AVAILABLE(10.0, 2.0, 9.0, 1.0, 2.0);\n#else\n\nOBJC_EXPORT id _Nullable\nobjc_msgSend(id _Nullable self, SEL _Nonnull op, ...)\n    OBJC_AVAILABLE(10.0, 2.0, 9.0, 1.0, 2.0);\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])]),s("p",[e._v("æ‰€ä»¥å¦‚æœä¸Šé¢é…ç½®æˆYESçš„è¯ï¼Œå°±ä¼šä¸¥æ ¼æ£€æŸ¥objc_msgSendçš„å‡½æ•°è°ƒç”¨ï¼Œè¿™å°±ä¸èƒ½ç”¨ç¬¬äºŒç§æ–¹æ³•äº†ã€‚éœ€è¦è®¾ç½®æˆNOï¼Œæ‰èƒ½ä½¿ç”¨ä¸‹é¢çš„æœ‰å‚æ•°åˆ—è¡¨çš„å‡½æ•°è°ƒç”¨ã€‚ï¼ˆè¿™åœ¨ä»¥å‰çš„ç‰ˆæœ¬(9.3.1)ä¸­è®¾ç½®ä¸ºYESä¹Ÿä¸ä¼šæç¤ºé”™è¯¯ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯Xcode10çš„æ›´æ–°å¯¼è‡´ï¼‰\nå…³äºè¿™ä¸ªå‡½æ•°è¯´æ˜ï¼Œ"),s("a",{attrs:{href:"https://www.jianshu.com/p/e5aef096f967",target:"_blank",rel:"noopener noreferrer"}},[e._v("è¯·å‚è€ƒè¿™ç¯‡æ–‡ç« "),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"æ›´æ–°äº†è®¾ç½®å¯¼è‡´çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°äº†è®¾ç½®å¯¼è‡´çš„é—®é¢˜"}},[e._v("#")]),e._v(" æ›´æ–°äº†è®¾ç½®å¯¼è‡´çš„é—®é¢˜")]),e._v(" "),s("p",[e._v("æ›´æ–°äº†xcodeprojæ–‡ä»¶ä¸­çš„è®¾ç½®(xcode10å»ºè®®æ›´æ–°)ï¼Œå°†ä¸€äº›è®¾ç½®æ›´æ”¹ä¸ºYESåç¼–è¯‘å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼ŒåŒ…æ‹¬ä¸Šé¢çš„æ‰¾ä¸åˆ°-lstdc++çš„é—®é¢˜ï¼Œè¿˜æœ‰æŠ¥ä¸‹é¢çš„é—®é¢˜ï¼š")]),e._v(" "),s("p",[e._v("1050 "),s("code",[e._v("duplicate symbols for architecture x86_64")]),e._v("\n/clangğŸ‘ linker command failed with exit code 1 (use -v to see invocation)")]),e._v(" "),s("p",[e._v("è¿™ä¸ªé—®é¢˜å¾ˆæ˜æ˜¾æ˜¯å­˜åœ¨é‡å¤çš„æ–‡ä»¶æˆ–é‡å¤å®šä¹‰äº†æŸä¸ªå˜é‡ä¹‹ç±»çš„ï¼Œæ¯”å¦‚æšä¸¾ã€‚è€Œå…¶å®ä»£ç ä¸­åªæ˜¯åœ¨ä¸åŒæ–‡ä»¶ä¸­ä½¿ç”¨externæ¥å£°æ˜äº†åŒåçš„å˜é‡è€Œå·²ï¼Œä¸€èˆ¬å…³é—­äº†Xcodeä¸­çš„ä¸¤ä¸ªå±æ€§è®¾ç½®åæ˜¯ä¸ä¼šæç¤ºçš„ã€‚ä½†æ˜¯æ›´æ–°xcodeè®¾ç½®æ—¶æ²¡æœ‰ä»”ç»†çœ‹ï¼Œå¯¼è‡´æ›´æ–°æ‰“å¼€äº†å±æ€§ï¼š\nBuild Settingä¸­çš„Enable Testability.NO Common Blocksã€‚ä¸¤ä¸ªçš„å®˜æ–¹è¯´æ˜å¦‚ä¸‹ï¼š")]),e._v(" "),s("p",[e._v("NO Common Blocks:")]),e._v(" "),s("blockquote",[s("p",[e._v("In C, allocate even uninitialized global variables in the data section of the object file, rather than generating them as common blocks. This has the effect that if the same variable is declared (without extern ) in two different compilations, you will get an error when you link them. The only reason this might be useful is if you wish to verify that the program will work on other systems which always work this way.\nä¸»è¦æ„æ€æ˜¯ï¼šå¦‚æœå¼€å¯äº†è¿™ä¸ªé…ç½®ï¼Œå½“ä½ åœ¨ä¸¤ä¸ªä¸åŒçš„ç¼–è¯‘ç¯å¢ƒä¸­å£°æ˜äº†ç›¸åŒçš„å˜é‡(æ²¡æœ‰ä½¿ç”¨externå…³é”®å­—)æ—¶ï¼Œåœ¨ä½ é“¾æ¥å®ƒä»¬çš„æ—¶å€™å°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å…³é—­åå°±ä¸ä¼šã€‚")])]),e._v(" "),s("p",[e._v("Enable Testability")]),e._v(" "),s("blockquote",[s("p",[e._v("From The Xcode 8 Release Notes:\nWhen the Enable Testability build setting is enabled, Xcode 8 will pass -export_dynamic to the linker to preserve all global symbols for testing. This effectively overrides dead code stripping, which can expose link failures from unused functions that reference undefined symbols. If necessary, disabling testability will allow the link to proceed without source changes. (27684883)\nOf course, the best thing to do is to either: a) remove the unused code that is causing the linker issues, or b) actually fix the linker issues.\nä¸»è¦æ„æ€æ˜¯ï¼šå¦‚æœå¼€å¯è¿™ä¸ªï¼ŒXcode8åå°±ä¼šé€šè¿‡é“¾æ¥å™¨ä¿å­˜å…¨å±€ç¬¦å·åšæµ‹è¯•ï¼Œå½±å“å°±æ˜¯è¦†ç›–å’Œç»ç’ƒæ­»ä»£ç ï¼Œä»è€Œèƒ½å¤Ÿä»ä¸€äº›å¼•ç”¨æœªå£°æ˜ç¬¦å·å‡½æ•°çš„æœªä½¿ç”¨æ–¹æ³•æš´éœ²é“¾æ¥é”™è¯¯ã€‚")])]),e._v(" "),s("p",[e._v("æ‰€ä»¥è§£å†³æ–¹æ³•æ˜¯Build Settingè®¾ç½®"),s("code",[e._v("NO Common Blocks")]),e._v("ä¸ºNOã€‚")])])}),[],!1,null,null,null);t.default=n.exports}}]);